# Routes
# This file defines all application routes (Higher priority routes first)
# ~~~~

# Home page
GET           /                                                     controllers.Application.index
GET           /home                                                 controllers.Application.home

# Admin
GET           /api/repos                                            controllers.RepositoryController.list
POST          /api/repos                                            controllers.RepositoryController.add
GET           /api/repos/:owner/:name/scan                          controllers.RepositoryController.scan(owner: String, name: String)
DELETE        /api/repos/:owner/:name                               controllers.RepositoryController.delete(owner: String, name: String)
POST          /api/repos/:owner/:repo/hook                          controllers.RepositoryController.issueHook(owner: String, repo: String)

# Add Issue time entry
GET           /create                                               controllers.TimeEntryController.createGenericForm
GET           /repos/:owner/:repo/issues/:issueNumber/create        controllers.TimeEntryController.createForm(owner, repo, issueNumber: Int, referer: Option[String])
POST          /api/repos/:owner/:repo/issues/:issueNumber           controllers.TimeEntryController.create(owner, repo, issueNumber: Int, accessKey: String ?= "")

# Request times
GET           /api/users                                            controllers.UserController.list
GET           /api/users/:id                                        controllers.UserController.read(id: Int)
GET           /user/settings                                        controllers.UserController.showSettings()

GET           /api/times/:year/:month                               controllers.TimeEntryController.showTimesForInterval(year: Int, month: Int)
GET           /api/repos/:owner/:repo/issues/:issueNumber           controllers.TimeEntryController.showTimeForIssue(owner, repo, issueNumber: Int)
GET           /api/user/times/:year/:month                          controllers.TimeEntryController.showTimeForUser(year: Int, month: Int)
POST          /api/user/accesskey                                   controllers.UserController.createAccessKey()
GET           /api/user/repos                                       controllers.UserController.listRepositories

#Request issues
GET           /api/issues/:owner/:repo                              controllers.TimeEntryController.showIssues(owner, repo)

# Providers entry points
GET           /authenticate/complete                                controllers.auth.Authentication.complete(state: String, code: String)
GET           /authenticate                                         controllers.auth.Authentication.authenticate(redirectUri: Option[String])
GET           /authenticate/logout                                  controllers.auth.Authentication.logout

# Javascript routing
GET           /assets/javascripts/routes.js                         controllers.Application.javascriptRoutes

# Map static resources from the /public folder to the /assets URL path
GET           /assets/*file                                         controllers.Assets.at(path="/public", file)
GET           /*any                                                 controllers.Application.team(any: String)
